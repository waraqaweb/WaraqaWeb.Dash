# Used by docker-compose.yml on your server

# =========================
# Domain (required for HTTPS)
# =========================
DOMAIN=example.com

# Optional: nginx server_name values (space-separated). Useful for both apex + www.
# Example: SERVER_NAMES=waraqaweb.com www.waraqaweb.com
SERVER_NAMES=

# The public origin that browsers will use (CORS allow-list)
FRONTEND_URL=https://example.com

# Frontend build-time API endpoints
REACT_APP_API_URL=https://example.com/api
REACT_APP_SOCKET_URL=https://example.com

# =========================
# Optional: app version metadata
# =========================
# Tip: set BUILD_VERSION to an increasing number (recommended), and BUILD_TIME to an ISO timestamp.
# If unset, the backend will fall back to a startup timestamp so Settings always shows a number.
BUILD_VERSION=
APP_VERSION=
BUILD_TIME=

# =========================
# Backend secrets (required)
# =========================
JWT_SECRET=change-me-to-a-long-random-string
REFRESH_TOKEN_SECRET=change-me-to-a-different-long-random-string

# Token expiry (optional)
JWT_EXPIRES_IN=7d
JWT_EXPIRE=7d

# =========================
# Abuse protection (optional)
# =========================
# Global API rate limit (per IP). If you expect 10+ concurrent users behind NAT,
# raise RATE_LIMIT_MAX to avoid false positives.
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=2000

# =========================
# Email (recommended for password reset/notifications)
# =========================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=no-reply@example.com

# =========================
# Cloudinary (required if you use uploads)
# =========================
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_LIBRARY_FOLDER=waraqa/library

# =========================
# Optional currency providers
# =========================
FIXER_API_KEY=
CURRENCYAPI_KEY=

# =========================
# Optional: library signed download links
# =========================
LIBRARY_DOWNLOAD_SECRET=change-me

# =========================
# Optional: library upload limits
# =========================
# Max upload size per file (bytes). Default is 250MB when unset.
# Example: 250 * 1024 * 1024 = 262144000
LIBRARY_UPLOAD_MAX_BYTES=

# =========================
# Optional: whiteboard screenshot retention
# =========================
# Auto-delete whiteboard screenshots older than N days (default 90)
WHITEBOARD_SCREENSHOT_RETENTION_DAYS=90
